<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>课本下载</title>
<style type="text/css">
#mainBox a {
    display: inline-block;
    width: 100px;
    height: 100px;
    text-align: center;
}

#mainBox img {
    display: block;
    width: 100%;
    height: 100%;
    border: 2px solid #1400ff59;
    margin: 5px;
    /* background-repeat: inherit; */
}

body, * {
	font-size: 20px;
	font-weight: bold;
}
</style>
</head>
<body>
	<div>
		<a target="_blank" href="https://book.yunzhan365.com/bookcase/uhvb/index.html?from=singlemessage">停课不停学，小学电子教材与《课时学练测》教辅，在线同步学习</a>
	</div>
	课本资料:
	<select id="books">
		<option id="a1">Hello</option>
	</select>
	<span id="bookName" style="color:#00f;"></span>
	<br/>
	<div style="display:none;">
	开始页码：<input type="text" id="txtStartPage"/><br/>
	结束页码：<input type="text" id="txtEndPage"/><br/>
	</div>
	<input type="button" id="btnOk" value="获取资料"/>
	<div id="mainBox">
	<!-- <a target="_blank" href="https://book.yunzhan365.com/mlpe/cqgc/files/mobile/40.jpg"><img alt="" src="https://book.yunzhan365.com/mlpe/cqgc/files/mobile/40.jpg">40.jpg</a>
	<a target="_blank" href="https://book.yunzhan365.com/mlpe/cqgc/files/mobile/41.jpg"><img alt="" src="https://book.yunzhan365.com/mlpe/cqgc/files/mobile/41.jpg">41.jpg</a>
	<a target="_blank" href="https://book.yunzhan365.com/mlpe/cqgc/files/mobile/42.jpg"><img alt="" src="https://book.yunzhan365.com/mlpe/cqgc/files/mobile/42.jpg">42.jpg</a>
	<a target="_blank" href="https://book.yunzhan365.com/mlpe/cqgc/files/mobile/43.jpg"><img alt="" src="https://book.yunzhan365.com/mlpe/cqgc/files/mobile/43.jpg">43.jpg</a>
	<a target="_blank" href="https://book.yunzhan365.com/mlpe/cqgc/files/mobile/44.jpg"><img alt="" src="https://book.yunzhan365.com/mlpe/cqgc/files/mobile/44.jpg">44.jpg</a>
	<a target="_blank" href="https://book.yunzhan365.com/mlpe/cqgc/files/mobile/45.jpg"><img alt="" src="https://book.yunzhan365.com/mlpe/cqgc/files/mobile/45.jpg">45.jpg</a>
	 --></div>
</body>
<script type="text/javascript">
(function(w){
	var booklist=[
		{no:1, name:'小学语文-一年级下册-统编版-教材电子课本',sp:1, ep:180, code:'cqgc'},
		{no:2, name:'课时学练测-语文-一年级下册-配人教版',sp:1, ep:170, code:'smrl'},
		{no:3, name:'小学语文-二年级下册-统编版-教材电子课本',sp:1, ep:180, code:'iypn'},
		{no:4, name:'课时学练测-语文-二年级下册-配人教版',sp:1, ep:170, code:'eczw'},
		{no:5, name:'小学语文-三年级下册-统编版-教材电子课本',sp:1, ep:180, code:'daqk'},
		{no:6, name:'课时学练测-语文-三年级下册-配人教版',sp:1, ep:170, code:'bbms'},
		{no:7, name:'小学语文-四年级下册-统编版-教材电子课本',sp:1, ep:180, code:'neay'},
		{no:8, name:'课时学练测-语文-四年级下册-配人教版',sp:1, ep:170, code:'hayo'},
		{no:9, name:'小学语文-五年级下册-统编版-教材电子课本',sp:1, ep:180, code:'mcsy'},
		{no:10, name:'课时学练测-语文-五年级下册-配人教版',sp:1, ep:170, code:'eejq'},
		{no:11, name:'小学语文-六年级下册-统编版-教材电子课本',sp:1, ep:180, code:'winp'},
		{no:12, name:'课时学练测-语文-六年级下册-配人教版',sp:1, ep:170, code:'xlde'},
		{no:13, name:'小学数学-一年级下册-人教版-教材电子课本',sp:1, ep:180, code:'qhpr'},
		{no:14, name:'课时学练测-数学-一年级下册-配人教版',sp:1, ep:170, code:'sccq'},
		{no:15, name:'小学数学-二年级下册-人教版-教材电子课本',sp:1, ep:180, code:'ayoe'},
		{no:16, name:'课时学练测-数学-二年级下册-配人教版',sp:1, ep:170, code:'nlwc'},
		{no:17, name:'小学数学-三年级下册-人教版-教材电子课本',sp:1, ep:180, code:'peep'},
		{no:18, name:'课时学练测-数学-三年级下册-配人教版',sp:1, ep:170, code:'psqc'},
		{no:19, name:'小学数学-四年级下册-人教版-教材电子课本',sp:1, ep:180, code:'mlpe'},
		{no:20, name:'课时学练测-数学-四年级下册-配人教版',sp:1, ep:170, code:'acbw'},
		{no:21, name:'小学数学-五年级下册-人教版-教材电子课本',sp:1, ep:180, code:'jjjz'},
		{no:22, name:'课时学练测-数学-五年级下册-配人教版',sp:1, ep:170, code:'uqvl'},
		{no:23, name:'小学数学-六年级下册-人教版-教材电子课本',sp:1, ep:180, code:'zkyh'},
		{no:24, name:'课时学练测-数学-六年级下册-配人教版',sp:1, ep:170, code:'lzig'},
		{no:25, name:'小学数学-一年级下册-北师大版-教材电子课本',sp:1, ep:180, code:'yrxy'},
		{no:26, name:'课时学练测-数学-一年级下册-配北师大版',sp:1, ep:170, code:'pbqn'},
		{no:27, name:'小学数学-二年级下册-北师大版-教材电子课本',sp:1, ep:180, code:'tefx'},
		{no:28, name:'课时学练测-数学-二年级下册-配北师大版',sp:1, ep:170, code:'oogx'},
		{no:29, name:'小学数学-三年级下册-北师大版-教材电子课本',sp:1, ep:180, code:'uilf'},
		{no:30, name:'课时学练测-数学-三年级下册-配北师大版',sp:1, ep:170, code:'omjj'},
		{no:31, name:'小学数学-四年级下册-北师大版-教材电子课本',sp:1, ep:180, code:'htbs'},
		{no:32, name:'课时学练测-数学-四年级下册-配北师大版',sp:1, ep:170, code:'lnci'},
		{no:33, name:'小学数学-五年级下册-北师大版-教材电子课本',sp:1, ep:180, code:'wdsg'},
		{no:34, name:'课时学练测-数学-五年级下册-配北师大版',sp:1, ep:170, code:'pdos'},
		{no:35, name:'小学数学-六年级下册-北师大版-教材电子课本',sp:1, ep:180, code:'ilzu'},
		{no:36, name:'课时学练测-数学-六年级下册-配北师大版',sp:1, ep:170, code:'ctxt'},
		{no:37, name:'小学英语-三年级下册-人教（PEP）版-教材电子课本',sp:1, ep:180, code:'moug'},
		{no:38, name:'课时学练测-英语-三年级下册-配人教（PEP）版',sp:1, ep:170, code:'vsoq'},
		{no:39, name:'小学英语-四年级下册-人教（PEP）版-教材电子课本',sp:1, ep:180, code:'lvou'},
		{no:40, name:'课时学练测-英语-四年级下册-配人教（PEP）版',sp:1, ep:170, code:'yicp'},
		{no:41, name:'小学英语-五年级下册-人教（PEP）版-教材电子课本',sp:1, ep:180, code:'cvdz'},
		{no:42, name:'课时学练测-英语-五年级下册-配人教（PEP）版',sp:1, ep:170, code:'yicw'},
		{no:43, name:'小学英语-六年级下册-人教（PEP）版-教材电子课本',sp:1, ep:180, code:'doij'},
		{no:44, name:'课时学练测-英语-六年级下册-配人教（PEP）版',sp:1, ep:170, code:'qrpo'}
	];
	
	let pics = [];
	//let beginPage = 4;
	//let endPage = 20;
	function getPic(bookCode, bp, ep){
		for(let i=bp; i<=ep; i++){
			picUrl = 'https://book.yunzhan365.com/mlpe/'+bookCode+'/files/mobile/'+i+'.jpg';
			pics[i-bp]='<a target="_blank" href="'+picUrl+'"><img alt="" src="'+picUrl+'">'+i+'.jpg</a>';
			//console.log(pics[i-bp]);
		}
		
		/*
		picUrl = "https://book.yunzhan365.com/mlpe/"+bookCode+"/files/shot.jpg";
		pics.push('<a target="_blank" href="'+picUrl+'"><img alt="" src="'+picUrl+'">'+0+'.jpg</a>');
		*/
	}
	
	document.getElementById("btnOk").addEventListener("click", getPages);
	
	function getPages(){
		pics = [];
		
		let sp = Number(document.getElementById("txtStartPage").value);
		let ep = Number(document.getElementById("txtEndPage").value);
		
		let bookSelector = document.getElementById("books");
		let bookCode = bookSelector.value;
		
		sp = booklist[bookSelector.selectedIndex].sp;
		ep = booklist[bookSelector.selectedIndex].ep;
		
		getPic(bookCode, sp, ep);
		console.log(pics);
		document.getElementById("mainBox").innerHTML=pics.join("");
	}
	
	function fake_click(obj) {
	    var ev = document.createEvent("MouseEvents");
	    ev.initMouseEvent(
	        "click", true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null
	    );
	    obj.dispatchEvent(ev);
	}

	function download(name, data) {
	    var urlObject = window.URL || window.webkitURL || window;

	    var downloadData = new Blob([data]);

	    var save_link = document.createElementNS("http://www.w3.org/1999/xhtml", "a")
	    save_link.href = urlObject.createObjectURL(downloadData);
	    save_link.download = name;
	    fake_click(save_link);
	}
	//调用方法
	//download("44.jpg","https://book.yunzhan365.com/mlpe/cqgc/files/mobile/44.jpg");
	
	function prepareBooks(){
		let books = [];
		for(let i=0; i<booklist.length; i++){
			let book = booklist[i];
			books[i]="<option id='"+book.code+"' value='"+book.code+"'>"+book.no+" - "+book.name+"</option>";
		}
		
		document.getElementById("books").innerHTML=books.join("");
	}
	prepareBooks();
	
	document.getElementById("books").addEventListener("change", function(){
		let bookNameSpan = document.getElementById("bookName");
		bookNameSpan.innerText = document.getElementById("books").selectedOptions[0].innerText;
	});

	w.booklist = booklist;
	//console.log(w.booklist);
})(window);

</script>
</html>